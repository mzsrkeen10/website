---
title: "ICPC 2019 Asia Yokohama Regional参加記"
slug: "icpc-2019"
date: 2019-11-21T00:39:00+09:00
draft: false
categories: ["競プロ"]
tags: ["ICPC", "参加記"]
---

ICPC 2019 Asia Yokohama Regionalに，チームEldoradoの選手として参加しました．
チームのメンバーは，僕とNOSS君（[参加記](https://noss.hatenablog.com/entry/2019/11/22/211231)），そしてまほろば君（[参加記](https://mhrb-minase.hatenablog.com/entry/2019/11/19/224117)）です．
※一部問題のネタバレを含みますのでご注意ください．

<!--more-->

* * *

### 1日目

#### 集合前

横浜駅近くのたまがったというラーメン屋で昼飯を済ませ，
集合時間の13時まで山下公園を散歩してました．
途中でthx_yucpc御一行に遭遇してご飯に誘っていただいたんですが，もう食べた&&集合時間が近かったので泣く泣くお断り・・・

{{< tweet 1195536606767149056 >}}

山下公園にはユリカモメがたくさんいました．海ですね．

{{< tweet 1195547179215015936 >}}

#### 開場〜開会式

開場の時間になると，スタッフが出てきて英語で開場のアナウンスをしました．これから英語を喋らないといけないんだな，やべえ〜〜〜〜という気持ちに  
開会式の内容は正直全然覚えてないんですが，ジャッジシステムの使い方の説明がネタを交えつつ自然な流れで必要な機能を網羅していてとても分かりやすかったです．

#### コンテストリハーサル

~~チーム練習にいつも遅刻して初動の練習が出来ていない~~僕がマシンの準備を行い，その間にまほろば君がA問題，NOSS君がB問題を読みます．
エディタはCLionで統一することにしてたんですが，誰も普段CLionを使っていないため色々と試行錯誤しながらディレクトリ構成などを決めていきました．リハーサルがあってくれて良かった

まほろば君がA問題でWAとかREとかを出してジャッジの動作確認をした後AC．B問題は問題文中に"subsequences"という単語が出てきて，これが連続であるとはどこにも書いてなかったんですが，サンプルを見るとどうも連続なものしか考えていないっぽかった．なので，clarの練習に丁度良いと思ってclarを投げました．でもとりあえず連続だと信じてNOSS君が実装を開始．

この間に僕はCを，まほろば君はDを読みます．

- [C](https://onlinejudge.u-aizu.ac.jp/challenges/sources/ICPC/Regional/1379?year=2017): これ一昨年見たけど先輩に解いてもらったやつだから何もわかんね〜
- [D](https://onlinejudge.u-aizu.ac.jp/challenges/sources/ICPC/Regional/1383?year=2017): なんか見覚えあるけどなんもわかんね〜

とりあえず取っ付きやすそうな（ホンマか？）Dの考察をすることに．
<details style="border: 1px solid #aaa; border-radius: 4px; padding: .5em .5em 0;">
    <summary style="margin: -.5em -.5em 0; padding: .5em;">
        D問題の概要
    </summary>
\\( n \\)頂点\\( m \\)辺の重み付き有向グラフが与えられます．
\\( i \\)日目にのみ\\( i \\)本目の辺が逆向きになるので，それによって頂点1から頂点2まで行くときの最小コストが大きくなるか，小さくなるか或いは変わらないかを判定してください．
</details>
話し合った結果，小さくなる判定は始点と終点からダイクストラすれば出来そうだが，大きくなる判定が難しそう．
このあたりでclarの返事が来て（やっぱり連続だった），Bも無事AC．NOSS君にDの概要と考察を伝えると，橋の列挙をすれば大きくなる判定が出来そうらしい．
チームメンバーは橋のライブラリを持っていなかったので，先輩から受け継いだ~~秘伝のタレ~~ライブラリを漁ると，橋の列挙をするコードを発見！
さあ，DのACに向かって実装開始だ！とあなたは意気込んでいるところかもしれないが，ちょっと待ってほしい．一つだけ先に忠告しておくことがある．それはこのライブラリに潜む謎の罠，出鼻くじきのプロ・Java紛れ小宮の存在だ．

ライブラリの整備はちゃんとやりましょう（AC出来ませんでした）

#### チーム紹介

Yokohama National Universityだしどうせ最後だろ〜と思っていたら，
逆順にやるらしく一番最初になってしまった．「こういうのはトップバッターが一番難しい」みたいなことを言われながらマイク渡されたんですが，特に何もネタを用意していなかったので名前だけ言って終わり

色々ネタを用意しているチームが結構いて面白かったです．

#### 1日目終了後

他の人々が中華街を満喫している間に強い気持ちで帰宅し，
他の人々がABCに参加している間に強い気持ちで就寝した

### 2日目

5時半に起床．会場近くのコンビニでご飯を買って山下公園で食べました．
山下公園最高ォ〜〜〜！！！

{{< tweet 1195845020328185856 >}}

#### コンテスト

「あと5分程でコンテストが始まります．トイレに行きたい人は今のうちに行ってください．」みたいなアナウンスがあって何人かトイレに行ったら，
「え？あと一分で始まるらしいです！」とか言い出して本当に9時25分に始まった（なんで・・・？）

結果はABEHの4完で23位でした．

{{< figure src="/images/post/2019-11-20-icpc-2019-yokohama/standings.png" >}}

<details style="border: 1px solid #aaa; border-radius: 4px; padding: .5em .5em 0;">
    <summary style="margin: -.5em -.5em 0; padding: .5em;">
        コンテスト中の動き
    </summary>
リハーサルと同じように僕がマシンの準備を行い，まほろば君がA，NOSS君がBを読む．
A問題は実装しながらの方が考えやすいらしいとのことなのでPCを明け渡し，僕はC問題以降を読み始める．
NOSS君のB問題の考察を聞くと正しそうだったので，実装を詰めてもらいながらAが終わるのを待つ．
僕はCが読み終わったので，Cの概要をNOSS君に伝えた後，**明らかに楽しそうな見た目をしている**D問題を飛ばしてE問題を読む．
Aが通ったのでB問題の実装を開始してもらう．Cの概要をまほろば君に共有し，僕は引き続きEを，まほろば君はFを読む．
Bが通って，Fが若干解けそうらしいので，PCも空いているしまほろば君に実装してもらう．
その間にNOSS君がGを読み，僕はHを読む．解いているチームが多いHの考察を始めると，またしてもNOSS君が正しそうな考察を生やしてくれたのでただただ感心していました．
Fがダメだったらしいので，NOSS君に交代しHの実装を開始．
その間に僕は未共有の問題をまほろば君に共有し，IJKを読む．
Hが通り，だいぶ出来ることが少なくなってきた感があるが，通しているチームが多いE, G, Iあたりの考察を始める．
かなりの時間かかって，まほろば君がEは同じ山に詰めない本を辺で繋いで二部グラフの連結成分を考えると良さそうという考察を生やしてくれた．
これを聞いたNOSS君がDPを書き上げ，良さそうな感じになった（語彙力）．
PCも空いているのでNOSS君に実装に入ってもらう．まほろば君がおにぎりを食べながら実装ミスの指摘をしていた．
しばらくすると実装が完了し，Eが通る．
この後は重い腰を上げDを読んだり，Gでtrie木を書いてフガフガ言ったり，Iで「閉路みたいなの（二重辺連結成分というらしい）を潰すと木になって二点間の経路が一意に定まるんだけどこれだけだと計算量がまだ大きい．根付き木にしてLCAをしてみると・・・何が嬉しいんだ・・・」みたいな話をしたりしてたんですが，特に解法の糸口を掴めず．
そのままコンテストは終了しました．
俺問題読むしかやってなくない？
</details>

{{< tweet 1195944406727028736 >}}

#### 解説〜結果発表

ぼんやりしてたらどんどん解説が終わっていってビックリしました．
やっぱりアジアの問題は難しいなあ（小並感）．

結果発表ではyes/no（順位表凍結後の提出のジャッジ結果が一つずつ発表されるやつ）が行われました．
順位表凍結後にACしているチームが結構あり，順位が目まぐるしく入れ替わってかなり盛り上がりました．特に，北京大学のGod and his toolmenが最後にDをACしていて，神すげ〜〜〜となりました

#### 懇親会

まずはご飯を食べました．ご飯を食べている時，JAGの方に
「M1ですか？JAGに入って私達と一緒に重い荷物を運びませんか？」
と言われ名刺を渡されました．うおおお喜んで運ばせていただきます！！！

ご飯を食べた後，スポンサーのブースを回ってステッカーやグッズを沢山頂きました．
スポンサーの展示で特に印象に残っているものを挙げます．

- NEC：笑顔の採点システム（？）を展示していました．僕も採点してもらったら95点というかなり高そうな点が出ました
- IBM：NeurIPS 2018のPommermanコンペで優勝したエージェントを展示していました．対戦するだけでTシャツが貰え，勝利するとTシャツかバッグを選べるという太っ腹っぷり
- Google：「問題の入力のサンプルが2つ与えられて，1つ目にだけ出力が付いている．問題文をエスパーして2つ目の入力に対する出力を答えてください．」というような問題を配っていました．配られるサンプルは人によって異なり，問題文は全て同じです．

Googleのブースで配っていた問題が***非常に面白かった***のでここにも載せておきます．ぜひ考えてみてください！

##### Input
```
4 10
4 2 5
3 4 7
2 3 2
4 3 7
2 1 5
1 4 4
1 2 5
3 2 8
3 1 7
2 4 7
4 1
```

##### Output
```
10
```

##### Input
```
4 7
2 4 5
3 1 4
1 4 5
4 1 6
2 3 3
1 3 5
2 1 4
1 2
```

##### Output
```
You should answer here.
```

これを山梨大・神戸大の方々と一緒にずっと考えていたんですがサッパリ分からず．ウンウン唸っているところに偶然通りがかったchoKOdaiのろいさんが助言をくれました．この助言により問題は解決し，丁度懇親会が終わりました．ずっと立ちっぱなしで足腰がバッキバキになってしまった

### 3日目

企業見学です．僕らのグループCはNEC→**しながわ水族館**→Huaweiの順でした．
寝不足で満員電車に揺られてきたので集合前から足腰がバッキバキになってしまった

どこまで書いて良いのか分からないんですが，NECもHuaweiも凄かったです．あとしながわ水族館楽しかったです．
疲れ果てていたのでしながわ水族館の途中辺りからボーッとしていて，Huaweiの方々に申し訳ない気持ちになりました

### あとがき

選手として参加する最後のICPCでしたが，最高に楽しかったです．
ICPCを運営してくださっている方々やスポンサーの方々には本当に感謝しています．
また，チームメイトの2人にも感謝しています．本当は「後輩をアジアに連れて来られて良かった」とか言いたかったんですが，連れてきてもらったのは僕の方なので，本当に感謝しかないです．
国内予選の時には「なんとしても先輩をアジアに連れて行かないと」と無用なプレッシャーを感じさせてしまっていたみたいで，年長者としては情けない話ですが，自分の実力不足を嘆くことしか出来ませんでした．
でも僕ももう引退なので，これからは自分が楽しむために伸び伸びと競プロをやってもらえたら良いなと思います（余計なお世話だとは思いますが）．

繰り返しになりますが，最後のICPCは本当に楽しかったです．

あなたもICPCに参加して足腰をバッキバキに砕きませんか？
